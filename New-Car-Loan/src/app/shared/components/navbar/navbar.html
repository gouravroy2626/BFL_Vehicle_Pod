<nav class="navbar" data-bs-theme="dark">
  <div class="navbar-inner">
    <div class="nav-left">
      <img class="nav-logo" src="assets/BFS_Digital_Logo_Reverse 01 1.svg" alt="Bajaj Finserv Logo" />
      <span class="nav-divider" aria-hidden="true"></span>
      @if (showBackButton()) {
      <button type="button" class="back-button" (click)="goBack()" aria-label="Go back">
        <img src="Path 4.svg" alt="Back" class="back-icon" />
      </button>
      }
    </div>
    <span class="brand-text">New Car Loan</span>
  </div>
</nav>

@if (showExitFeedback) {
<div class="exitDrawer">
  <div class="drawer-content">
    <!-- Row 1: close button -->
    <div class="drawer-row drawer-row-1">
      <span class="close-button">
        <img src="/Vector copy 2.svg" alt="Close" (click)="closeExitFeedback()" />
      </span>
    </div>

    <!-- Row 2: title -->
    <div class="drawer-row drawer-row-2">
      <h3 class="exit-title">Get your loan today</h3>
    </div>

    <!-- Row 3: money bag icon -->
    <div class="drawer-row drawer-row-3">
      <img class="exit-icon" [src]="carousel[carouselIndex]?.src || '/money-bag-percentage.svg'" alt="Carousel image" />
    </div>

    <!-- Row 4: subtitle -->
    <div class="drawer-row drawer-row-4">
      <p class="exit-subtext">{{ carousel[carouselIndex]?.caption || 'No hidden charges' }}</p>
    </div>

    <!-- Row 5: dots (separate row above buttons) -->
    <div class="drawer-row drawer-row-dots">
      <div class="carousel-dots" aria-label="carousel controls">
        <button *ngFor="let c of carousel; let i = index" class="dot-btn" [class.active]="i === carouselIndex" (click)="selectCarousel(i)" aria-label="Slide {{i+1}}"></button>
      </div>
    </div>

    <!-- Row 5: buttons -->
    <div class="drawer-row drawer-row-6">
      <div class="exit-buttons">
        <button class="btn-outline" (click)="closeExitFeedback()">STAY AND CONTINUE</button>
        <button class="btn-primary" (click)="exitAnyway()">EXIT ANYWAY</button>
      </div>
    </div>
  </div>
</div>
}

@if (showExitFeedbackForm) {
<div class="exitDrawer exit-feedback-form">
  <div class="drawer-content feedback-content">
    <div class="drawer-row drawer-row-1">
      <span class="close-button"><img src="/Vector copy 2.svg" alt="Close" (click)="closeExitFeedbackForm()" /></span>
    </div>

    <div class="drawer-row drawer-row-2">
      <h3 class="exit-title1">We are sorry to see you go</h3>
    </div>

    <div class="drawer-row drawer-row-3">
      <p class="exit-subtext1">Help us improve by providing your feedback</p>
    </div>

    <div class="drawer-row drawer-row-4">
      <div class="feedback-box">
        <legend>Please tell us what made you leave? (optional)</legend>
        <label class="fb-row"><input type="checkbox"/> Issues filling the details</label>
        <label class="fb-row"><input type="checkbox"/> Technical issue - not able to proceed</label>
        <label class="fb-row"><input type="checkbox"/> Loan not required now</label>
        <label class="fb-row"><input type="checkbox"/> Others</label>
        <div class="fb-submit-row">
          <button class="btn-primary" (click)="closeExitFeedbackForm()">SUBMIT</button>
        </div>
      </div>
    </div>
  </div>
</div>
}